
  <view class="container">
    <view  wx:if="{{!isNull}}">
      <view class="cart-status" wx:if="{{!userLevel}}">
        <text class="title">已购￥{{cartStatus.totalprice}}，成为会员立减 <text class="title link font-bold">￥{{cartStatus.discount}}</text></text>
        <view class="default-button">加入会员</view>
      </view>
      <block wx:for="{{cartList}}" wx:for-index="index" wx:for-item="item" wx:key="key">
        <view class="cart-list">
          <view class="content">
            <view class="unedit-layer {{isEdit ? 'animate' : ''}}"/>
            <text class="title {{isEdit ? 'animate' : ''}}"><text class="iconfont icon-ys_ly"/>{{item.title}}</text>
            <view class="check-layer">
              <view catchtap="coldAll" class="cart-checkbox {{item.coldChecked ? 'checked' : ''}}" data-wpycoldall-a="{{index}}">
                <text class="iconfont icon-fxkdui"/>
              </view>
            </view>
          </view>
          <view class="item-box">  
            <view class="items">
                <block wx:for="{{item.coldlist}}" wx:for-index="index" wx:for-item="item" wx:key="index">  
                <view class="item-list">
                  <view class="unedit-layer {{isEdit ? 'animate' : ''}}"/>
                  <view class="inner txt {{isEdit ? 'animate' : ''}}"> 
                    <view class="inner-layer" data-index="{{index}}" id="{{item.sourceId}}">
                      <text class="title">{{item.title}}</text>
                      <text class="font-small link">会员价：￥{{item.price}} </text>
                      <text class="font-small through">原价：￥{{item.oldprice}}</text>
                      <text class="tips">{{item.detail}}</text>
                    </view>
                    <view class="inner-image">
                      <image src="{{item.path}}" mode="aspectFill" catchtap="goDetail" data-wpygodetail-a="{{item.id}}"/>
                      
  <view class="counter">
    <view catchtap="$counteCold$plusTap" class="counter-btn {{$counteCold$disable ? 'disable' : ''}}" data-id="{{item.sourceId}}" data-com-index="{{index}}">  +  </view>
    <input type="number" bindinput="$counteCold$inputTap" bindblur="$counteCold$blurTap" class="counter-btn number" value="{{item.count}}" focus="{{$counteCold$autoFocus}}" data-id="{{item.sourceId}}" data-com-index="{{index}}"/> 
    <view catchtap="$counteCold$minusTap" class="counter-btn minusBtn {{$counteCold$able ? 'able' : ''}}" data-id="{{item.sourceId}}" data-com-index="{{index}}">  -  </view>
  </view>
  
                    </view>
                  </view>
                  <view data-index="{{index}}" class="inner del" catchtap="coldCheck" data-value="{{item.sourceId}}">
                    <view class="cart-checkbox {{item.checked ? 'checked' : ''}}">
                      <text class="iconfont icon-fxkdui"/>
                    </view>
                  </view>  
                 </view>
                </block>
            </view>  
          </view>                 
        </view>
      </block>
      <view class="cart-bottom" wx:if="{{!isNull}}">
        <text class="title link edit" bindtap="editTap">{{isEdit ? '取消' : '编辑'}}</text>
        <view class="title link all" catchtap="checkAll" wx:if="{{isEdit}}">全选</view>
        <text class="title link edit" bindtap="deleteTap" wx:if="{{isEdit}}">删除</text>
        <text catchtap="goOrder" class="del-cart {{isEdit ? '' : 'active'}}">去结算</text>
        <text class="cart-info"><text class="tips">(含运费￥{{freight}})</text> 合计: <text class="link">￥{{finalprice}}</text></text>
      </view>
      <view class="vip-tip">
        <text class="iconfont icon-vip link"/>
        <text class="title">尊敬的优价会员，生鲜购满2公斤才可包邮哦</text>
      </view>
    </view>
    <view  wx:else class="blank">
      <image src="../image/null.png" mode="aspectFit"/>
      <text class="title">您的购物车空空如也</text>
      <view class="blank-button" hover-class="blank-button-hover" bindtap="goCategory">逛一逛</view>
    </view>
  </view>